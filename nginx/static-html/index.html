/**

 * @author Eberhard Graether / http://egraether.com/

 * @author Mark Lundin  / http://mark-lundin.com

 */



THREE.TrackballControls = function ( object, domElement ) {



        var _this = this;

        var STATE = { NONE: -1, ROTATE: 0, ZOOM: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_ZOOM: 4, TOUCH_PAN: 5 };



        this.object = object;

        this.domElement = ( domElement !== undefined ) ? domElement : document;



        // API



        this.enabled = true;



        this.screen = { left: 0, top: 0, width: 0, height: 0 };



        this.rotateSpeed = 1.0;

        this.zoomSpeed = 1.2;

        this.panSpeed = 0.3;



        this.noRotate = false;

        this.noZoom = false;

        this.noPan = false;

        this.noRoll = false;



        this.staticMoving = false;

        this.dynamicDampingFactor = 0.2;



        this.minDistance = 0;

        this.maxDistance = Infinity;



        this.keys = [ 65 /*A*/, 83 /*S*/, 68 /*D*/ ];



        // internals



        this.target = new THREE.Vector3();



        var EPS = 0.000001;



        var lastPosition = new THREE.Vector3();



        var _state = STATE.NONE,

        _prevState = STATE.NONE,

